---
title: Emacs Claude Code Refactoring Components
---
graph TD
    subgraph "Refactoring Plan"
        RP[Overall Refactoring Plan]
        IP[Implementation Plan]
    end
    
    subgraph "Phase 1: State Detection (Complete)"
        SD1[ecc-state-detection.el]
        SD2[test-ecc-state-detection.el]
    end
    
    subgraph "Phase 2: Auto-Response (Next)"
        AR1[ecc-auto-response.el]
        AR2[ecc-auto-response-fix.el]
        AR3[ecc-auto-response-refactored.el]
        AR4[ecc-auto-response-unified.el]
        AR5[New Consolidated Module]
        
        AR1 -->|Consolidate| AR5
        AR2 -->|Consolidate| AR5
        AR3 -->|Consolidate| AR5
        AR4 -->|Consolidate| AR5
    end
    
    subgraph "Phase 3: Notification"
        N1[ecc-auto-notify.el]
        N2[ecc-auto-notify-improved.el]
        N3[New Notification Module]
        
        N1 -->|Consolidate| N3
        N2 -->|Consolidate| N3
    end
    
    subgraph "Phase 4: Buffer-Local"
        BL1[ecc-buffer-api.el]
        BL2[ecc-buffer-local.el]
        BL3[New Buffer Module]
        
        BL1 -->|Consolidate| BL3
        BL2 -->|Consolidate| BL3
    end
    
    subgraph "Phase 5: Variables"
        V1[ecc-variables.el]
        V2[ecc-variables-refactored.el]
        V3[New Variables Module]
        
        V1 -->|Consolidate| V3
        V2 -->|Consolidate| V3
    end
    
    RP -->|Guides| SD1
    RP -->|Guides| AR5
    RP -->|Guides| N3
    RP -->|Guides| BL3
    RP -->|Guides| V3
    
    IP -->|Details| SD1
    IP -->|Details| AR5
    IP -->|Details| N3
    IP -->|Details| BL3
    IP -->|Details| V3
    
    SD1 -.->|Completed| AR5
    AR5 -.->|Next| N3
    N3 -.->|Then| BL3
    BL3 -.->|Finally| V3